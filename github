#!/bin/bash --norc

# Test if no arguments have been added
if [ $# -lt 1 ];
  then #echo "ERROR - You must add arguments";
    cat README.md;
    exit 1;
fi;

# Test the git command
git > /dev/null;
if [ $? != 1 ];
  then echo "ERROR - Git is not installed"; exit 2;
fi;

# Classical command github clone
if [ $1 = "clone" -a $# = 3 ];
  then username=$2; repository=$3; git clone http://github.com/$username/$repository; exit 0;
fi;

# Other command github clone for your repository
if [ $1 = "clone" -a $# = 2 ];
then username=`git config --global github.user`; repository=$2; git clone git@github.com:$username/$repository; exit 0;
fi;

# Classical command github commit with your signed-of-by
if [ $1 = "commit" ]
  then git commit -s $2 $3 $4 $5 $6 $7 $8 $9; exit 0;
fi;

# Github update command
if [ $1 = "update" ]
  then git pull origin master && git push origin master; exit 0;
fi;

# Github info command
if [ $1 = "info" ];
  then username=`git config --global github.user`; email=`git config --global user.email`; editor=`git config --global core.editor`; name=`git config --global user.name`; token=`git config --global github.token`; pubkey=`cat ~/.ssh/id_rsa.pub`; echo "Github account  :" $username; echo "Github email    :" $email; echo "Your editor     :" $editor; echo "Your name       :" $name; echo "Your API token  :" $token; echo "Your public key : \`github pubkey\`" ; exit 0;
fi;

# Github ssh command
if [ $1 = "pubkey" ];
  then cat ~/.ssh/id_rsa.pub; exit 0;
fi;

# TODO Github add remote command

# Github pull command
if [ $1 = "pull" -a $# = 1 ];
  then git pull origin master; exit 0;
fi;

# Github push command
if [ $1 = "push" -a $# = 1 ];
  then git push origin master; exit 0;
fi;

# Classical command git
git $*; exit 0;
